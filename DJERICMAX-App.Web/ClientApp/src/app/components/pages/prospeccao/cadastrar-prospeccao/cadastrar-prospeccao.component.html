<div class="modal-backdrop fade show" (click)="fechar()"></div>

<div class="modal fade show d-block" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header headiers">
        <h5 class="modal-title"> {{ info }} </h5>
        <button type="button" class="close" (click)="fechar()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body bodies"
        [ngStyle]="{ 'min-height.px': alturaModal, 'max-height.px': alturaModal }">

        <div class="container-fluid">

<!-- ------------------------------------------------------------------------------ -->

<div>
  <form action="" class="glass-containerTable">

    <div class="form-row">
      <!-- Nome -->
      <div class="col-md-6 floating-label">
        <input type="text" id="inputNomeCliente" name="nome" placeholder="Nome"
        class="form-control mb-2"
          [ngClass]="{
            'is-invalid': nome.invalid && (nome.dirty || nome.touched),
            'is-valid': nome.valid && (nome.dirty || nome.touched)
          }"
          [(ngModel)]="cliente.nome"
          #nome="ngModel"
          required />
          <label for="inputNomeCliente">Nome</label>

        <div class="invalid-feedback mb-2 respError" role="alert"
          *ngIf="nome.invalid && (nome.dirty || nome.touched)">
          <div *ngIf="nome.errors.required">
            Nome do possível cliente é obrigatório!
          </div>
        </div>
      </div>
      <!-- Sobrenome -->
      <div class="col-md-6 floating-label">
        <input type="text" id="inputSobrenomeCliente"
        name="sobrenome" placeholder="Sobrenome"
          class="form-control mb-2"
          [ngClass]="{
            'is-invalid':
              sobreNome.invalid && (sobreNome.dirty || sobreNome.touched),
            'is-valid':
              sobreNome.valid && (sobreNome.dirty || sobreNome.touched)
          }"
          [(ngModel)]="cliente.sobreNome"
          #sobreNome="ngModel" />
          <label for="inputSobrenomeCliente">Sobrenome</label>
      </div>
    </div>

    <div class="form-row">
      <!-- CPF -->
      <!-- <div class="col-md-6 floating-label" *ngIf="cliente.ehCliente == 1"> -->
      <div class="col-md-6 floating-label" *ngIf="clique == 'cliente'">
        <input type="text" id="inputCpf"
        name="cpf" placeholder="CPF"
          class="form-control mb-2"
          [ngClass]="{
            'is-invalid': cpf.invalid && (cpf.dirty || cpf.touched),
            'is-valid': cpf.valid && (cpf.dirty || cpf.touched)
          }"
          [(ngModel)]="cliente.cpf"
          #cpf="ngModel"/>
          <label for="inputCpf">CPF</label>
      </div>
      <!-- RG -->
      <!-- <div class="col-md-6 floating-label" *ngIf="cliente.ehCliente == 1"> -->
      <div class="col-md-6 floating-label" *ngIf="clique == 'cliente'">
        <input type="text" id="inputRg"
        name="rg" placeholder="RG"
          class="form-control mb-2"
          [ngClass]="{'is-invalid':rg.invalid && (rg.dirty || rg.touched),
            'is-valid':rg.valid && (rg.dirty || rg.touched)}"
          [(ngModel)]="cliente.rg"
          #rg="ngModel"/>
          <label for="inputRg">RG</label>
      </div>
    </div>

    <div class="form-row">
      <!-- Telefone -->
      <div class="col-md-4 floating-label">
        <input
        type="text" id="inputTelefone" name="telefone" placeholder="Fone/Whatsapp"
        mat-raised-button matTooltip="Info about the action"
        aria-label="Button that displays a tooltip when focused or hovered over"
        class="form-control mb-2"
        [ngClass]="{'is-invalid':telefone.invalid && (telefone.dirty || telefone.touched),
          'is-valid': telefone.valid && (telefone.dirty || telefone.touched)}"
          [(ngModel)]="cliente.telefone"
          #telefone="ngModel"
          required />
          <label for="inputTelefone">Fone/Whatsapp</label>
        <div
          class="invalid-feedback mb-2 respError"
          role="alert"
          *ngIf="telefone.invalid && (telefone.dirty || telefone.touched)"
        >
          <div *ngIf="telefone.errors.required">
            Fone/Whatsapp é obrigatório!
          </div>
        </div>
      </div>
      <!-- E-mail -->
      <div class="col-md-8 floating-label">
        <input type="email" id="inputEmail" name="email"
        placeholder="E-mail" class="form-control mb-2"
        [ngClass]="{'is-invalid': email.invalid && (email.dirty || email.touched),
          'is-valid': email.valid && (email.dirty || email.touched)}"
          [(ngModel)]="cliente.email"
          #email="ngModel" />
          <label for="inputEmail">E-mail</label>
      </div>
    </div>

    <div class="form-row">
      <!-- Logradouro -->
      <!-- <div class="col-md-6 floating-label" *ngIf="cliente.ehCliente == 1"> -->
      <div class="col-md-6 floating-label" *ngIf="clique == 'cliente'">
        <input type="text" id="inputLogradouro"
        name="logradouro" placeholder="Endereço"
        class="form-control mb-2"
        [ngClass]="{'is-invalid': logradouro.invalid && (logradouro.dirty || logradouro.touched),
          'is-valid': logradouro.valid && (logradouro.dirty || logradouro.touched)}"
          [(ngModel)]="cliente.logradouro"
          #logradouro="ngModel"/>
          <label for="inputLogradouro">Endereço</label>
      </div>
      <!-- Num_Logradouro -->
      <!-- <div class="col-md-2 mb-2" *ngIf="cliente.ehCliente == 1"> -->
      <div class="col-md-2 floating-label" *ngIf="clique == 'cliente'">
        <input type="text" id="inputNum_Logradouro"
        name="num_Logradouro" placeholder="Nº"
          class="form-control mb-2"
          [ngClass]="{'is-invalid':num_Logradouro.invalid && (num_Logradouro.dirty || num_Logradouro.touched),
            'is-valid':num_Logradouro.valid && (num_Logradouro.dirty || num_Logradouro.touched)}"
          [(ngModel)]="cliente.num_Logradouro"
          #num_Logradouro="ngModel" />
          <label for="inputNum_Logradouro">Nº</label>
      </div>
      <!-- CEP -->
      <!-- <div class="col-md-4 mb-2" *ngIf="cliente.ehCliente == 1"> -->
      <div class="col-md-4 floating-label" *ngIf="clique == 'cliente'">
        <input type="text" id="inputCep"
        name="cep" placeholder="CEP"
        class="form-control mb-2"
        [ngClass]="{'is-invalid': cep.invalid && (cep.dirty || cep.touched),
            'is-valid': cep.valid && (cep.dirty || cep.touched)}"
          [(ngModel)]="cliente.cep"
          #cep="ngModel" />
          <label for="inputCep">CEP</label>
      </div>
    </div>

    <div class="form-row">
      <!-- Bairro -->
      <div class="col-md-5 floating-label">
        <input type="text" id="inputBairro"
        name="bairro" placeholder="Bairro"
        class="form-control mb-2"
          [ngClass]="{'is-invalid': bairro.invalid && (bairro.dirty || bairro.touched),
            'is-valid': bairro.valid && (bairro.dirty || bairro.touched)}"
          [(ngModel)]="cliente.bairro"
          #bairro="ngModel" />
          <label for="inputBairro">Bairro</label>
      </div>
      <!-- Cidade -->
      <div class="col-md-5 floating-label">
        <input type="text" id="inputCidade"
        name="cidade" placeholder="Cidade"
        class="form-control mb-2"
        [ngClass]="{'is-invalid': cidade.invalid && (cidade.dirty || cidade.touched),
          'is-valid': cidade.valid && (cidade.dirty || cidade.touched)}"
          [(ngModel)]="cliente.cidade"
          #cidade="ngModel" required />
          <label for="inputCidade">Cidade</label>
        <div
          class="invalid-feedback mb-2 respError"
          role="alert"
          *ngIf="cidade.invalid && (cidade.dirty || cidade.touched)"
        >
          <div *ngIf="cidade.errors.required">Cidade é obrigatória!</div>
        </div>
      </div>
      <!-- UF -->
      <div class="col-md-2 floating-label">
        <select id="inputUf" name="uf" class="form-control mb-2"
          [ngClass]="{'is-invalid': uf.invalid && (uf.dirty || uf.touched),
            'is-valid': uf.valid && (uf.dirty || uf.touched)}"
          [(ngModel)]="cliente.uf"
          #uf="ngModel"
          required >

          <option [ngValue]="undefined" disabled hidden>UF</option>
          <ng-container *ngFor="let uf of ufss">
            <option *ngFor="let item of Ufs(uf)" [ngValue]="item.uf">
              {{ item.uf }}
            </option>
          </ng-container>
        </select>
        <label for="inputUf">UF</label>

        <div
          class="invalid-feedback mb-2 respError"
          role="alert"
          *ngIf="uf.invalid && (uf.dirty || uf.touched)"
        >
          <div *ngIf="uf.errors.required">uf de Serviços é obrigatório!</div>
        </div>
      </div>

      <!-- ehCliente -->
      <div class="col-md-5 mb-2" style="display: none;" *ngIf="clique == 'cliente'">
        <input type="hidden" id="inputEhCliente" name="ehCliente"
          [(ngModel)]="cliente.ehCliente" [value]="1" #ehCliente="ngModel" />
      </div>
    </div>

    <div class="alert alert-danger" *ngIf="mensagem">
      {{ mensagem }}
    </div>
  </form>
</div>

<!-- ------------------------------------------------------------------------------ -->

        </div>
      </div>
      <div class="modal-footer footies">

        <!-- <button (click)="confirmarConversao()">Confirmar</button> -->

        <button class="btn btn-outline-success btn-lg btYes col-md-2" type="submit"
          (click)="cadastrarCliente()"
          [disabled]="ativar_spinner">
          <span *ngIf="ativar_spinner" role="status" aria-hidden="true"
            class="spinner-border spinner-border-sm"></span>
          <span>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path fill="currentColor" d="m15 10l-.986-.164A1 1 0 0 0 15 11zM4 10V9a1 1 0 0 0-1 1zm16.522 2.392l.98.196zM6 21h11.36v-2H6zM18.56 9H15v2h3.56zm-2.573 1.164l.805-4.835L14.82 5l-.806 4.836zM14.82 3h-.214v2h.214zm-3.543 1.781L8.763 8.555l1.664 1.11l2.516-3.774zM7.93 9H4v2h3.93zM3 10v8h2v-8zm17.302 8.588l1.2-6l-1.96-.392l-1.2 6zM8.762 8.555A1 1 0 0 1 7.93 9v2a3 3 0 0 0 2.496-1.336zm8.03-3.226A2 2 0 0 0 14.82 3v2zM18.56 11a1 1 0 0 1 .981 1.196l1.961.392A3 3 0 0 0 18.561 9zm-1.2 10a3 3 0 0 0 2.942-2.412l-1.96-.392a1 1 0 0 1-.982.804zM14.606 3a4 4 0 0 0-3.328 1.781l1.664 1.11A2 2 0 0 1 14.606 5zM6 19a1 1 0 0 1-1-1H3a3 3 0 0 0 3 3z"/><path stroke="currentColor" stroke-width="1.1" d="M8 10v10"/></g></svg>
        </span> Salvar
        </button>
        <button class="btn btn-outline-secondary btn-lg btNo col-md-2"
          (click)="cancelar()">
          <span>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path fill="currentColor" d="m15 14l-.986.164A1 1 0 0 1 15 13zM4 14v1a1 1 0 0 1-1-1zm16.522-2.392l.98-.196zM6 3h11.36v2H6zm12.56 12H15v-2h3.56zm-2.573-1.164l.805 4.835L14.82 19l-.806-4.836zM14.82 21h-.214v-2h.214zm-3.543-1.781l-2.515-3.774l1.664-1.11l2.516 3.774zM7.93 15H4v-2h3.93zM3 14V6h2v8zm17.302-8.588l1.2 6l-1.96.392l-1.2-6zM8.762 15.445A1 1 0 0 0 7.93 15v-2a3 3 0 0 1 2.496 1.336zm8.03 3.226A2 2 0 0 1 14.82 21v-2zM18.56 13a1 1 0 0 0 .981-1.196l1.961-.392A3 3 0 0 1 18.561 15zm-1.2-10a3 3 0 0 1 2.942 2.412l-1.96.392A1 1 0 0 0 17.36 5zm-2.754 18a4 4 0 0 1-3.328-1.781l1.664-1.11a2 2 0 0 0 1.664.891zM6 5a1 1 0 0 0-1 1H3a3 3 0 0 1 3-3z"/><path stroke="currentColor" stroke-width="1.1" d="M8 14V4"/></g></svg>
        </span> Cancelar
        </button>
      </div>
    </div>
  </div>
</div>
